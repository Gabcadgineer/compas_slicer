<!DOCTYPE html>
<html lang="en">
<head>
  <title>COMPAS SLICER</title>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  <meta name="author" content="" />
  <meta name="description" content="" />

  <link rel="shortcut icon" href="../_static/images/compas.ico" type="image/x-icon">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.9/styles/default.min.css">
  <link rel="stylesheet" type="text/css" href="../_static/css/compas.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/compas-reference.css" />

  
    <link rel="next" title="2. Advanced planar slicing" href="planar_slicing_advanced.html" />
  
  
  
    <link rel="prev" title="Examples" href="../examples.html" />
  

  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <style>
    .footer-text,
    .footer-link,
    .footer-title {
      color: rgba(255, 255, 255, 0.25);
    }
    .footer-link:hover {
      color: rgba(255, 255, 255, 0.5);
    }
    </style>
</head>

<body data-spy="scroll" data-target="#compas-toc">
  <!-- header -->
  <header id="header" class="compas-header d-flex align-items-center">
    <nav class="navbar navbar-expand navbar-dark col flex-column flex-md-row text-center">
      <!-- brand -->
      <a class="navbar-brand" href="">
        <img src="../_static/images/compas_icon_white.png" alt="COMPAS SLICER" width="48px" height="48px" />
      </a>
      <!-- brand -->
      <!-- primary -->
      <ul class="navbar-nav">
        <li class="nav-item active"><a class="nav-link" href="">COMPAS SLICER</a></li>
      </ul>
      <!-- primary -->
      <ul class="navbar-nav d-none d-md-flex ml-md-auto">
        
        <!-- version -->
        <!-- social -->
        <li class="nav-item">
          <a class="nav-link" href="https://https://github.com/dbt-ethz/compas_slicer" target="_blank">
            <span class="fab fa-github fa-1x"></span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="http://forum.compas-framework.org" target="_blank">
            <span class="fab fa-discourse fa-1x"></span>
          </a>
        </li>
        <!-- social -->
      </ul>
    </nav>
  </header>
  <!-- header -->
  <!-- main -->
  <div class="container-fluid">
    <div class="row">
      <!-- main -->
      <main class="col-12 col-md-9 col-xl-7 px-2 px-md-5 py-5 compas-content" role="main">
        
        
        <div class="section" id="simple-planar-slicing">
<h1 class="display-4 p-0 mb-5"><span class="section-number">1. </span>Simple planar slicing</h1>
<p>This example describes the planar slicing process for a simple shape, consisting
out of a shape with a single contour (also known as a ‘vase’).</p>
<div class="section" id="imports-and-initialization">
<h2><span class="section-number">1.1. </span>Imports and initialization</h2>
<p>The first step is to import the required functions:</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="kn">from</span> <span class="nn">compas_slicer.pre_processing</span> <span class="kn">import</span> <span class="n">move_mesh_to_point</span>
<span class="kn">from</span> <span class="nn">compas_slicer.slicers</span> <span class="kn">import</span> <span class="n">PlanarSlicer</span>
<span class="kn">from</span> <span class="nn">compas_slicer.post_processing</span> <span class="kn">import</span> <span class="n">generate_brim</span>
<span class="kn">from</span> <span class="nn">compas_slicer.post_processing</span> <span class="kn">import</span> <span class="n">simplify_paths_rdp</span>
<span class="kn">from</span> <span class="nn">compas_slicer.post_processing</span> <span class="kn">import</span> <span class="n">seams_smooth</span>
<span class="kn">from</span> <span class="nn">compas_slicer.print_organization</span> <span class="kn">import</span> <span class="n">PrintOrganizer</span>
<span class="kn">from</span> <span class="nn">compas_slicer.utilities</span> <span class="kn">import</span> <span class="n">save_to_json</span>

<span class="kn">from</span> <span class="nn">compas_viewers.objectviewer</span> <span class="kn">import</span> <span class="n">ObjectViewer</span>
<span class="kn">from</span> <span class="nn">compas.datastructures</span> <span class="kn">import</span> <span class="n">Mesh</span>
<span class="kn">from</span> <span class="nn">compas.geometry</span> <span class="kn">import</span> <span class="n">Point</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">logging</span>
</code></pre></div>
</div>
<p>Then we initiate logging to make sure that messages generated by compas_slicer are
printed in the terminal.</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;logger&#39;</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%(levelname)s</span><span class="s1">-</span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
</code></pre></div>
</div>
<p>Next we point to the data folder. Compas_slicer assumed there is a folder named <code class="docutils literal notranslate"><span class="pre">data</span></code>
where it looks for the model to slice. The model to slice can be of type <code class="docutils literal notranslate"><span class="pre">.stl</span></code> or <code class="docutils literal notranslate"><span class="pre">.obj</span></code>.</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="n">DATA</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s1">&#39;data&#39;</span><span class="p">)</span>
<span class="n">MODEL</span> <span class="o">=</span> <span class="s1">&#39;simple_vase.obj&#39;</span>
</code></pre></div>
</div>
</div>
<div class="section" id="slicing-process">
<h2><span class="section-number">1.2. </span>Slicing process</h2>
<p>In the next step we use the Compas function <code class="docutils literal notranslate"><span class="pre">Mesh.from_obj</span></code> to load our <code class="docutils literal notranslate"><span class="pre">.obj</span></code>
file. We then move it to the origin, but this can be any specified point, such as
a point on your printbed.</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="n">compas_mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="o">.</span><span class="n">from_obj</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">DATA</span><span class="p">,</span> <span class="n">MODEL</span><span class="p">))</span>
<span class="n">move_mesh_to_point</span><span class="p">(</span><span class="n">compas_mesh</span><span class="p">,</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</code></pre></div>
</div>
<p>We then initialize the <code class="xref py py-class docutils literal notranslate"><span class="pre">PlanarSlicer</span></code> to initialize the slicing process.
The layer height needs to be specified by the user. Furthermore, the <code class="docutils literal notranslate"><span class="pre">slicing_type</span></code>
can be changed to use different methods of generating the ‘slices’. Currently,
three methods for slicing are supported:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">default</span></code>: Uses only standard compas functions, without external libraries.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meshcut</span></code>: Uses the ‘meshcut’ library, is a rather slow method.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cgal</span></code>: Uses the ‘compas_cgal’ package, this is a very fast method but requires you to install compas_cgal.</p></li>
</ul>
<p>The three methods will all return the slices of your model, so it is up to you
to choose the method that you prefer.</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="n">slicer</span> <span class="o">=</span> <span class="n">PlanarSlicer</span><span class="p">(</span><span class="n">compas_mesh</span><span class="p">,</span> <span class="n">slicer_type</span><span class="o">=</span><span class="s2">&quot;cgal&quot;</span><span class="p">,</span> <span class="n">layer_height</span><span class="o">=</span><span class="mf">1.5</span><span class="p">)</span>
<span class="n">slicer</span><span class="o">.</span><span class="n">slice_model</span><span class="p">()</span>
</code></pre></div>
</div>
<p>After the model has been sliced, several post processing operations can be executed.
One useful functionality is <code class="docutils literal notranslate"><span class="pre">generate_brim</span></code>, which generates a number of layers
that are offset from the bottom layer, to improve adhesion to the build plate
(see image).</p>
<div class="figure align-default" id="id1">
<img alt="../_images/01_brim.jpg" class="figure-img img-fluid" src="../_images/01_brim.jpg" />
<p class="caption"><span class="caption-text"><em>Left: Without brim. Right: With brim</em></span></p>
</div>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="n">generate_brim</span><span class="p">(</span><span class="n">slicer</span><span class="p">,</span> <span class="n">layer_width</span><span class="o">=</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">number_of_brim_paths</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</code></pre></div>
</div>
<p>Depending on the amount of faces that your input mesh has, a very large amount of
points can be generated. <code class="docutils literal notranslate"><span class="pre">simplify_paths_rdp</span></code> is a function that removes points
that do not have a high impact on the final shape of the polyline. Increase the
threshold value to remove more points, decrease it to remove less. For more
information on how the algorithm works see: <a class="reference external" href="https://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm">Ramer–Douglas–Peucker algorithm</a></p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="n">simplify_paths_rdp</span><span class="p">(</span><span class="n">slicer</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
</code></pre></div>
</div>
<p>Currently the ‘seam’ between different layers of our shape is a ‘hard seam’,
the printer would move up almost vertically to move to the next layer (see
image on the left). To make the seam more ‘smooth’, and less visible we can
use the <code class="docutils literal notranslate"><span class="pre">seams_smooth</span></code> function.</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="n">seams_smooth</span><span class="p">(</span><span class="n">slicer</span><span class="p">,</span> <span class="n">smooth_distance</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div>
</div>
<p>To get information on the current state of the slicing process we can print out
information from the slicing process.</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="n">slicer</span><span class="o">.</span><span class="n">printout_info</span><span class="p">()</span>
</code></pre></div>
</div>
<p>Since we are now done with operations involving the <code class="xref py py-class docutils literal notranslate"><span class="pre">PlanarSlicer</span></code> class,
we can save the slicing result to JSON. In the next steps we will use the
<code class="xref py py-class docutils literal notranslate"><span class="pre">PrintOrganizer</span></code> class to organize our print for fabrication.</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="n">save_to_json</span><span class="p">(</span><span class="n">slicer</span><span class="o">.</span><span class="n">to_data</span><span class="p">(),</span> <span class="n">DATA</span><span class="p">,</span> <span class="s1">&#39;slicer_data.json&#39;</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="section" id="print-organization">
<h2><span class="section-number">1.3. </span>Print organization</h2>
<p>In the next steps of the process we will use the <code class="xref py py-class docutils literal notranslate"><span class="pre">PrintOrganizer</span></code> to
make our slicing result ready for fabrication. First, we initialize the
<code class="xref py py-class docutils literal notranslate"><span class="pre">PrintOrganizer</span></code> and create <code class="xref py py-class docutils literal notranslate"><span class="pre">PrintPoints</span></code>. The difference between
<code class="xref py py-class docutils literal notranslate"><span class="pre">PrintPoints</span></code> and the <code class="docutils literal notranslate"><span class="pre">compas.geometry.Points</span></code> we were using in the
previous step is that the <code class="xref py py-class docutils literal notranslate"><span class="pre">PrintPoints</span></code> have additional functionality.</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="n">print_organizer</span> <span class="o">=</span> <span class="n">PrintOrganizer</span><span class="p">(</span><span class="n">slicer</span><span class="p">)</span>
<span class="n">print_organizer</span><span class="o">.</span><span class="n">create_printpoints</span><span class="p">(</span><span class="n">compas_mesh</span><span class="p">)</span>
</code></pre></div>
</div>
<p>We can add these additional functionalities to the printpoints by calling
different functions.</p>
<ul class="simple">
<li><p><cite>set_extruder_toggle</cite>: Adds a boolean <code class="docutils literal notranslate"><span class="pre">extruder_toggle</span></code> to the PrintPoints. <code class="docutils literal notranslate"><span class="pre">True</span></code> means the extruder should be on (printing), whereas <code class="docutils literal notranslate"><span class="pre">False</span></code> means the extruder should be off (when traveling between paths).</p></li>
<li><p><cite>add_safety_printpoints</cite>: This function adds a ‘safety point’ (also known as ‘z-hop’) before and after print paths, to make sure the extruder does not collide with the print. This is recommended for prints consisting out of multiple contours.</p></li>
<li><p><cite>set_linear_velocity</cite>: Sets the linear velocity (printing speed) for the print.</p></li>
</ul>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="n">print_organizer</span><span class="o">.</span><span class="n">set_extruder_toggle</span><span class="p">()</span>
<span class="n">print_organizer</span><span class="o">.</span><span class="n">add_safety_printpoints</span><span class="p">(</span><span class="n">z_hop</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">print_organizer</span><span class="o">.</span><span class="n">set_linear_velocity</span><span class="p">(</span><span class="s2">&quot;constant&quot;</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
</code></pre></div>
</div>
<p>After adding all of the fabrication-related parameters we an now first output the
Printpoints as data and then export them to a <code class="docutils literal notranslate"><span class="pre">.JSON</span></code> file.</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="n">printpoints_data</span> <span class="o">=</span> <span class="n">print_organizer</span><span class="o">.</span><span class="n">output_printpoints_dict</span><span class="p">()</span>
<span class="n">save_to_json</span><span class="p">(</span><span class="n">printpoints_data</span><span class="p">,</span> <span class="n">DATA</span><span class="p">,</span> <span class="s1">&#39;out_printpoints.json&#39;</span><span class="p">)</span>
</code></pre></div>
</div>
<p>Finally, we can initialize the <code class="docutils literal notranslate"><span class="pre">compas_viewer</span></code> to visualize our results.</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="n">viewer</span> <span class="o">=</span> <span class="n">ObjectViewer</span><span class="p">()</span>
<span class="n">print_organizer</span><span class="o">.</span><span class="n">visualize_on_viewer</span><span class="p">(</span><span class="n">viewer</span><span class="p">,</span> <span class="n">visualize_polyline</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                    <span class="n">visualize_printpoints</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">viewer</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="n">viewer</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
</div>
</div>
<div class="section" id="final-script">
<h2><span class="section-number">1.4. </span>Final script</h2>
<p>The completed final script can be found below:</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="kn">from</span> <span class="nn">compas_slicer.pre_processing</span> <span class="kn">import</span> <span class="n">move_mesh_to_point</span>
<span class="kn">from</span> <span class="nn">compas_slicer.slicers</span> <span class="kn">import</span> <span class="n">PlanarSlicer</span>
<span class="kn">from</span> <span class="nn">compas_slicer.post_processing</span> <span class="kn">import</span> <span class="n">generate_brim</span>
<span class="kn">from</span> <span class="nn">compas_slicer.post_processing</span> <span class="kn">import</span> <span class="n">simplify_paths_rdp</span>
<span class="kn">from</span> <span class="nn">compas_slicer.post_processing</span> <span class="kn">import</span> <span class="n">seams_smooth</span>
<span class="kn">from</span> <span class="nn">compas_slicer.print_organization</span> <span class="kn">import</span> <span class="n">PrintOrganizer</span>
<span class="kn">from</span> <span class="nn">compas_slicer.utilities</span> <span class="kn">import</span> <span class="n">save_to_json</span>

<span class="kn">from</span> <span class="nn">compas_viewers.objectviewer</span> <span class="kn">import</span> <span class="n">ObjectViewer</span>
<span class="kn">from</span> <span class="nn">compas.datastructures</span> <span class="kn">import</span> <span class="n">Mesh</span>
<span class="kn">from</span> <span class="nn">compas.geometry</span> <span class="kn">import</span> <span class="n">Point</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">logging</span>

<span class="c1"># ==============================================================================</span>
<span class="c1"># Logging</span>
<span class="c1"># ==============================================================================</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;logger&#39;</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%(levelname)s</span><span class="s1">-</span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>

<span class="c1"># ==============================================================================</span>
<span class="c1"># Select location of data folder and specify model to slice</span>
<span class="c1"># ==============================================================================</span>

<span class="n">DATA</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s1">&#39;data&#39;</span><span class="p">)</span>
<span class="n">MODEL</span> <span class="o">=</span> <span class="s1">&#39;simple_vase.obj&#39;</span>

<span class="c1"># ==========================================================================</span>
<span class="c1"># Load mesh</span>
<span class="c1"># ==========================================================================</span>
<span class="n">compas_mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="o">.</span><span class="n">from_obj</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">DATA</span><span class="p">,</span> <span class="n">MODEL</span><span class="p">))</span>

<span class="c1"># ==========================================================================</span>
<span class="c1"># Move to origin</span>
<span class="c1"># ==========================================================================</span>
<span class="n">move_mesh_to_point</span><span class="p">(</span><span class="n">compas_mesh</span><span class="p">,</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

<span class="c1"># ==========================================================================</span>
<span class="c1"># Slice the model, try out different slicers by changing the slicer_type</span>
<span class="c1"># options: &#39;default&#39;, &#39;meshcut&#39;, &#39;cgal&#39;</span>
<span class="c1"># ==========================================================================</span>
<span class="n">slicer</span> <span class="o">=</span> <span class="n">PlanarSlicer</span><span class="p">(</span><span class="n">compas_mesh</span><span class="p">,</span> <span class="n">slicer_type</span><span class="o">=</span><span class="s2">&quot;cgal&quot;</span><span class="p">,</span> <span class="n">layer_height</span><span class="o">=</span><span class="mf">1.5</span><span class="p">)</span>
<span class="n">slicer</span><span class="o">.</span><span class="n">slice_model</span><span class="p">()</span>

<span class="c1"># ==========================================================================</span>
<span class="c1"># Generate brim</span>
<span class="c1"># ==========================================================================</span>
<span class="c1"># generate_brim(slicer, layer_width=3.0, number_of_brim_paths=3)</span>

<span class="c1"># ==========================================================================</span>
<span class="c1"># Simplify the paths by removing points with a certain threshold</span>
<span class="c1"># change the threshold value to remove more or less points</span>
<span class="c1"># ==========================================================================</span>
<span class="n">simplify_paths_rdp</span><span class="p">(</span><span class="n">slicer</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="c1"># ==========================================================================</span>
<span class="c1"># Smooth the seams between layers</span>
<span class="c1"># change the smooth_distance value to achieve smoother, or more abrupt seams</span>
<span class="c1"># ==========================================================================</span>
<span class="n">seams_smooth</span><span class="p">(</span><span class="n">slicer</span><span class="p">,</span> <span class="n">smooth_distance</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># ==========================================================================</span>
<span class="c1"># Prints out the info of the slicer</span>
<span class="c1"># ==========================================================================</span>
<span class="n">slicer</span><span class="o">.</span><span class="n">printout_info</span><span class="p">()</span>

<span class="c1"># ==========================================================================</span>
<span class="c1"># Save slicer data to JSON</span>
<span class="c1"># ==========================================================================</span>
<span class="n">save_to_json</span><span class="p">(</span><span class="n">slicer</span><span class="o">.</span><span class="n">to_data</span><span class="p">(),</span> <span class="n">DATA</span><span class="p">,</span> <span class="s1">&#39;slicer_data.json&#39;</span><span class="p">)</span>

<span class="c1"># ==========================================================================</span>
<span class="c1"># Initializes the PrintOrganizer and creates PrintPoints</span>
<span class="c1"># ==========================================================================</span>
<span class="n">print_organizer</span> <span class="o">=</span> <span class="n">PrintOrganizer</span><span class="p">(</span><span class="n">slicer</span><span class="p">)</span>
<span class="n">print_organizer</span><span class="o">.</span><span class="n">create_printpoints</span><span class="p">(</span><span class="n">compas_mesh</span><span class="p">)</span>

<span class="c1"># ==========================================================================</span>
<span class="c1"># Set fabrication-related parameters</span>
<span class="c1"># ==========================================================================</span>
<span class="n">print_organizer</span><span class="o">.</span><span class="n">set_extruder_toggle</span><span class="p">()</span>
<span class="c1"># print_organizer.add_safety_printpoints(z_hop=20)</span>
<span class="n">print_organizer</span><span class="o">.</span><span class="n">set_linear_velocity</span><span class="p">(</span><span class="s2">&quot;constant&quot;</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

<span class="c1"># ==========================================================================</span>
<span class="c1"># Converts the PrintPoints to data and saves to JSON</span>
<span class="c1"># =========================================================================</span>
<span class="n">printpoints_data</span> <span class="o">=</span> <span class="n">print_organizer</span><span class="o">.</span><span class="n">output_printpoints_dict</span><span class="p">()</span>
<span class="n">save_to_json</span><span class="p">(</span><span class="n">printpoints_data</span><span class="p">,</span> <span class="n">DATA</span><span class="p">,</span> <span class="s1">&#39;out_printpoints.json&#39;</span><span class="p">)</span>

<span class="c1"># ==========================================================================</span>
<span class="c1"># Initializes the compas_viewer and visualizes results</span>
<span class="c1"># ==========================================================================</span>
<span class="n">viewer</span> <span class="o">=</span> <span class="n">ObjectViewer</span><span class="p">()</span>
<span class="n">print_organizer</span><span class="o">.</span><span class="n">visualize_on_viewer</span><span class="p">(</span><span class="n">viewer</span><span class="p">,</span> <span class="n">visualize_polyline</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                    <span class="n">visualize_printpoints</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">viewer</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="n">viewer</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
</div>
</div>
</div>

        
      </main>
      <!-- content -->
      <!-- sidebar -->
      <div class="col-12 col-md-3 compas-sidebar" role="navigation"> 
        <form id="search" class="d-flex align-items-center compas-searchbox" action="../search.html" method="get">
          <input class="form-control" type="text" name="q" placeholder="Search docs" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
          <button class="navbar-toggler d-md-none" type="button" data-toggle="collapse" data-target="#compas-navigation" aria-controls="compas-navigation" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
        </form>
        
        
          <div id="compas-navigation" class="collapse compas-navigation">
          <ul class="nav flex-column active">
<li class="nav-item"><a class="nav-link reference internal" href="../index.html">Introduction</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../installation.html">Installation</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../gettingstarted.html">Getting started</a></li>
<li class="nav-item active"><a class="nav-link reference internal" href="../examples.html">Examples</a><ul class="nav flex-column active">
<li class="nav-item active"><a class="nav-link active current reference internal" href="#">1. Simple planar slicing</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="planar_slicing_advanced.html">2. Advanced planar slicing</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="curved_slicing.html">3. Curved slicing</a></li>
</ul>
</li>
<li class="nav-item"><a class="nav-link reference internal" href="../api.html">API Reference</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../devguide.html">Developer Guide</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../license.html">License</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../citing.html">Citing</a></li>
</ul>

          </div>
        
      </div>
      <!-- sidebar -->
      <!-- toc -->
      <div class="d-none d-xl-block col-xl-2 compas-toc" role="toc">
        
        <ul class="nav flex-column" id="compas-toc">
<li class="nav-item"><a class="nav-link reference internal" href="#">1. Simple planar slicing</a><ul class="nav flex-column">
<li class="nav-item"><a class="nav-link reference internal" href="#imports-and-initialization">1.1. Imports and initialization</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#slicing-process">1.2. Slicing process</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#print-organization">1.3. Print organization</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#final-script">1.4. Final script</a></li>
</ul>
</li>
</ul>

      </div>
      <!-- toc -->
    </div>
  </div>
  <!-- main -->
  <!-- footer -->
  <!-- footer -->
  <div class="below py-5" style="background-color: #222;">
    <div class="container">
      <div class="row flex-column">
      <div class="col-12 col-md-6 mx-md-auto text-center">
        <h4 class="pb-3 footer-text">COMPAS</h4>
        <p class="footer-text">
          A computational framework for collaboration and research
          in Architecture, Engineering, Fabrication, and Construction.
        </p>
        <nav class="nav justify-content-center pb-3">
          <a class="nav-link mx-2 px-0 footer-link" href="http://github.com/compas-dev" target="_blank">
            <span class="fab fa-github fa-1x"></span>
          </a>
          <a class="nav-link mx-2 px-0 footer-link" href="http://forum.compas-framework.org" target="_blank">
            <span class="fab fa-discourse fa-1x"></span>
          </a>
          <a class="nav-link mx-2 px-0 footer-link" href="https://pypi.org/project/COMPAS/" target="_blank">
            <span class="fab fa-python fa-1x"></span>
          </a>
        </nav>
      </div>
      </div>
      <div class="row">
      <div class="col text-center">
        <p class="p-0 m-0 footer-text">Copyright &copy; 2017-2020 compas-dev</p>
      </div>
      </div>
    </div>
  </div>

  <script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
  URL_ROOT          : '',
  VERSION           : '0.1.0',
  COLLAPSE_INDEX    : false,
  FILE_SUFFIX       : '.html',
  HAS_SOURCE        : 'false',
  SOURCELINK_SUFFIX : '.txt'
  };
  </script>

  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <script src="https:////cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.1/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.0.0/anchor.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js"></script>

  <script src="../_static/underscore.js"></script>
  <script src="../_static/doctools.js"></script>
  <script src="../_static/js/searchtools_.js"></script>

  <script>
  $(document).ready(function() {
    $(".language-default code").addClass("python");
    $(".language-python code").addClass("python");
    $(".language-bash code").addClass("bash");
    $(".language-cpp code").addClass("cpp");
    $(".language-json code").addClass("json");
    $(".language-none code").addClass("plaintext");

    hljs.initHighlighting();
    anchors.add();

    $('.nav-versions .dropdown-item').filter(function(i, ver) {
      return window.location.href.startsWith(ver.href);
    }).addClass("active");

  });
  </script>
  
  
</body>
</html>